#Микросервис disk-writer(dwr) for Linux OS. Самостоятельная часть проекта "Synapse".
Поставляется как есть, с открытыми исходниками, и без каких-либо гарантий!
--
Исходники разложены по папкам относительно "/" как задумывалось, но можно размещать по своему разумению. 
Также предоставлены скрипты запуска сервиса (демона):
--
/etc/init.d  - для Debian Linux
/etc/sv      - для Void Linux   [https://wiki.voidlinux.eu/Runit]
--

Для установки Linux и nodejs, обращаемся сюда: https://nodejs.org/en/download/package-manager/

Выбор Void Linux предпочтительнее, по двум причинам: 
 - размер установки меньше, чем Debian,
 - nodejs включена в основной репозиторий, поэтому устанавливается одной командой.

------------------------------------------------------------------------------------------------------

Схема работы:

  Используется протокол http. Процесс прослушивает 80-й порт и ожидает POST-запрос. Отправить запрос с файлами 
можно любым способом в рамках http. Например: из командной строки "curl", из макроса MsOffice "Microsoft.XMLHTTP"
Тестировать можно прямо из браузера, если открыть в нем адрес сервера.
   
  Клиент:
  1. Выполняет POST-запрос [enctype=multipart/form-data], и ожидает ответа от сервера не разрывая соединение

  Сервер: 
  2. Обрабатывает запрос, принимает файлы в uploadDir
  3. Создает iso-образ (mkisofs/genisoimage) в uploadDir
  4. Прожигает образ на диск (wodim/cdrecord) (подразумевается, что диск вставлен)
  5. Проверяет запись путем вычисления и сверки md5sum образа и диска
  6. Отдает диск (eject)
  7. Ответ о завершении операции response.end(<результаты>)

  на всех этапах клиенту отдается порция информации в рамках одного "долгого" ответа; 
  в случае ошибки на любом из этапов - выполняется последний шаг (7);

  Если потребуется, ограничение доступа к сервису предполагается выполнить через iptables (все запросы клиентов,
кроме заданных ip отвергаются REJECT или DROP).


                                                             © Денис Богачев <d.enisei@yandex.ru>